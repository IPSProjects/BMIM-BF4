schema: '2.0'
stages:
  classical_AddData:
    cmd: zntrack run ipsuite.nodes.AddData --name classical_AddData
    deps:
    - path: data/nvt_eq.xyz
      hash: md5
      md5: 38a194ced93c33e023a9eca895cf9d3b
      size: 32692338
    params:
      params.yaml:
        classical_AddData:
          lines_to_read:
    outs:
    - path: nodes/classical/AddData/atoms.h5
      hash: md5
      md5: 4b28c7c0a6ae386fce15e8c814259378
      size: 19874075
    - path: nodes/classical/AddData/node-meta.json
      hash: md5
      md5: e875cc934db72ea4d2b9d3be558e88d1
      size: 48
  classical_ConfigurationSelection:
    cmd: zntrack run ipsuite.nodes.KernelSelection --name classical_ConfigurationSelection
    deps:
    - path: nodes/classical/AddData/atoms.h5
      hash: md5
      md5: e643fe36113fa372e86ec7bc82e2ae9f
      size: 19874075
    - path: nodes/classical/AddData/node-meta.json
      hash: md5
      md5: 7cbcf3eacba8178354dc1ffc84193c62
      size: 48
    params:
      params.yaml:
        classical_ConfigurationSelection:
          correlation_time: 1
          n_configurations: 50
          points_per_cycle: 1
          seed: 1234
          threshold:
        classical_ConfigurationSelection+kernel:
          memory: 1000
          soap:
            _type: soap_parameter_dataclass
            value:
              l_max: 5
              n_jobs: -1
              n_max: 7
              r_cut: 6.0
              rbf: gto
              sigma: 0.5
              weighting:
    outs:
    - path: nodes/classical/ConfigurationSelection/kernel_results.json
      hash: md5
      md5: a40b6c329ff8ffb830f4a4ae2cf99b1d
      size: 2734119
    - path: nodes/classical/ConfigurationSelection/node-meta.json
      hash: md5
      md5: eb52159ff213393a9300024ffbb93d0c
      size: 48
    - path: nodes/classical/ConfigurationSelection/selected_configurations.json
      hash: md5
      md5: ad4c9bd8ec8c22b5959efc1328b74ec3
      size: 701
    - path: nodes/classical/ConfigurationSelection/selection.png
      hash: md5
      md5: d7750ba0f41417ac8c1387c65cb7b68a
      size: 28020
  classical_CP2KSinglePoint:
    cmd: zntrack run ipsuite.nodes.CP2KSinglePoint --name classical_CP2KSinglePoint
    deps:
    - path: GTH_BASIS_SETS
      hash: md5
      md5: 518e733a7344699cf0b4192bb97eb6a3
      size: 119403
    - path: GTH_POTENTIALS
      hash: md5
      md5: 3a35b03b26b8ba5cf6c1d849dba11f15
      size: 128982
    - path: dftd3.dat
      hash: md5
      md5: 88745bcc951a4bcdccc4d6bcfa78d105
      size: 1959318
    - path: nodes/classical/AddData/atoms.h5
      hash: md5
      md5: 4b28c7c0a6ae386fce15e8c814259378
      size: 19874075
    - path: nodes/classical/AddData/node-meta.json
      hash: md5
      md5: e875cc934db72ea4d2b9d3be558e88d1
      size: 48
    params:
      config/cp2k.yaml:
        force_eval:
          method: quickstep
          DFT:
            mgrid:
              cutoff: 800
              rel_cutoff: 60
              ngrids: 5
            QS:
              eps_filter_matrix: 0.0
              eps_pgf_orb: 0.0001
            SCF:
              scf_guess: restart
              max_scf: 100
              eps_scf: 1e-06
              OT:
                minimizer: diis
                preconditioner: full_single_inverse
              outer_scf:
                max_scf: 100
                eps_scf: 1e-06
              print:
                restart:
                  each:
                    QS_SCF: 0
            XC:
              xc_functional:
                becke97:
                  parametrization: B97-3c
                  scale_c: 1.0
                  scale_x: 1.0
              vdw_potential:
                pair_potential:
                  type: dftd3(bj)
                  parameter_file_name: dftd3.dat
                  reference_functional: B97-3c
                  r_cutoff: 7.93766
                  calculate_c9_term: true
                  short_range_correction: true
                potential_type: pair_potential
            charge: 0
            basis_set_file_name: GTH_BASIS_SETS
            potential_file_name: GTH_POTENTIALS
          subsys:
            kind:
              N:
                basis_set: TZVP-GTH-q5
                potential: GTH-PBE-q5
              C:
                basis_set: TZVP-GTH-q4
                potential: GTH-PBE-q4
              H:
                basis_set: TZVP-GTH-q1
                potential: GTH-PBE-q1
              B:
                basis_set: TZVP-GTH-q3
                potential: GTH-PBE-q3
              F:
                basis_set: TZVP-GTH-q7
                potential: GTH-PBE-q7
    outs:
    - path: nodes/classical/CP2KSinglePoint/atoms.h5
      hash: md5
      md5: 5517ee8f3037feee90b76352280cc493
      size: 34653576
    - path: nodes/classical/CP2KSinglePoint/cp2k
      hash: md5
      md5: 55489bae96a408ea6302c59d719d3ed0.dir
      size: 138230425
      nfiles: 3
    - path: nodes/classical/CP2KSinglePoint/node-meta.json
      hash: md5
      md5: 54f69e1283b47e06e239ee0dc1deb23e
      size: 48
