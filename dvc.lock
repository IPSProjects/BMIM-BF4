schema: '2.0'
stages:
  GeoOpt_SmilesToAtoms:
    cmd: zntrack run ipsuite.nodes.SmilesToAtoms --name GeoOpt_SmilesToAtoms
    params:
      params.yaml:
        GeoOpt_SmilesToAtoms:
          cell:
          optimizer: UFF
          seed: 1234
          smiles: CCCCN1C=C[N+](=C1)C
    outs:
    - path: nodes/GeoOpt/SmilesToAtoms/atoms.h5
      hash: md5
      md5: 744f94e60270ed284980820ff3038f19
      size: 27968
    - path: nodes/GeoOpt/SmilesToAtoms/molecule.png
      hash: md5
      md5: fa660af41c991f88836a402de6b5457c
      size: 7734
    - path: nodes/GeoOpt/SmilesToAtoms/node-meta.json
      hash: md5
      md5: 84789625aecbb39e27e249122f1a6878
      size: 48
  GeoOpt_SmilesToAtoms_1:
    cmd: zntrack run ipsuite.nodes.SmilesToAtoms --name GeoOpt_SmilesToAtoms_1
    params:
      params.yaml:
        GeoOpt_SmilesToAtoms_1:
          cell:
          optimizer: UFF
          seed: 1234
          smiles: '[B-](F)(F)(F)F'
    outs:
    - path: nodes/GeoOpt/SmilesToAtoms_1/atoms.h5
      hash: md5
      md5: 181a42114d5c08d6ac24e8ce30a8f82b
      size: 27968
    - path: nodes/GeoOpt/SmilesToAtoms_1/molecule.png
      hash: md5
      md5: 1ef1dd9470bf53d67db743ffbefda8d4
      size: 2963
    - path: nodes/GeoOpt/SmilesToAtoms_1/node-meta.json
      hash: md5
      md5: cd2a1426dbfc4fbeca20d79d88111969
      size: 48
  GeoOpt_Packmol:
    cmd: zntrack run ipsuite.nodes.Packmol --name GeoOpt_Packmol
    deps:
    - path: nodes/GeoOpt/SmilesToAtoms/atoms.h5
      hash: md5
      md5: 744f94e60270ed284980820ff3038f19
      size: 27968
    - path: nodes/GeoOpt/SmilesToAtoms/molecule.png
      hash: md5
      md5: fa660af41c991f88836a402de6b5457c
      size: 7734
    - path: nodes/GeoOpt/SmilesToAtoms/node-meta.json
      hash: md5
      md5: 84789625aecbb39e27e249122f1a6878
      size: 48
    - path: nodes/GeoOpt/SmilesToAtoms_1/atoms.h5
      hash: md5
      md5: 181a42114d5c08d6ac24e8ce30a8f82b
      size: 27968
    - path: nodes/GeoOpt/SmilesToAtoms_1/molecule.png
      hash: md5
      md5: 1ef1dd9470bf53d67db743ffbefda8d4
      size: 2963
    - path: nodes/GeoOpt/SmilesToAtoms_1/node-meta.json
      hash: md5
      md5: cd2a1426dbfc4fbeca20d79d88111969
      size: 48
    params:
      params.yaml:
        GeoOpt_Packmol:
          box:
          count:
          - 1
          - 1
          data_ids:
          density: 1210
          tolerance: 2.0
    outs:
    - path: nodes/GeoOpt/Packmol/atoms.h5
      hash: md5
      md5: 7f7df15575858694ccc510260ebfe672
      size: 27968
    - path: nodes/GeoOpt/Packmol/node-meta.json
      hash: md5
      md5: b3ce1a60b7720ecd888e9d7edcdf8c42
      size: 48
    - path: nodes/GeoOpt/Packmol/packmol
      hash: md5
      md5: b18c587119cedcda46bebc619616ddcc.dir
      size: 3841
      nfiles: 4
  GeoOpt_Packmol_1:
    cmd: zntrack run ipsuite.nodes.Packmol --name GeoOpt_Packmol_1
    deps:
    - path: nodes/GeoOpt/Packmol/atoms.h5
      hash: md5
      md5: 7f7df15575858694ccc510260ebfe672
      size: 27968
    - path: nodes/GeoOpt/Packmol/node-meta.json
      hash: md5
      md5: b3ce1a60b7720ecd888e9d7edcdf8c42
      size: 48
    - path: nodes/GeoOpt/Packmol/packmol
      hash: md5
      md5: b18c587119cedcda46bebc619616ddcc.dir
      size: 3841
      nfiles: 4
    params:
      params.yaml:
        GeoOpt_Packmol_1:
          box:
          count:
          - 10
          data_ids:
          density: 1210
          tolerance: 2.0
    outs:
    - path: nodes/GeoOpt/Packmol_1/atoms.h5
      hash: md5
      md5: 9bf25b064e3bbdcf35a16004ff02f0e1
      size: 37568
    - path: nodes/GeoOpt/Packmol_1/node-meta.json
      hash: md5
      md5: 673f5965117067b4650aafa49f435535
      size: 48
    - path: nodes/GeoOpt/Packmol_1/packmol
      hash: md5
      md5: d3f499e937fc9f22403f1b27e3acdf42.dir
      size: 18862
      nfiles: 3
  GeoOpt_ASEGeoOpt:
    cmd: zntrack run ipsuite.nodes.ASEGeoOpt --name GeoOpt_ASEGeoOpt
    deps:
    - path: nodes/GeoOpt/Packmol_1/atoms.h5
      hash: md5
      md5: 9bf25b064e3bbdcf35a16004ff02f0e1
      size: 37568
    - path: nodes/GeoOpt/Packmol_1/node-meta.json
      hash: md5
      md5: 673f5965117067b4650aafa49f435535
      size: 48
    - path: nodes/GeoOpt/Packmol_1/packmol
      hash: md5
      md5: d3f499e937fc9f22403f1b27e3acdf42.dir
      size: 18862
      nfiles: 3
    params:
      params.yaml:
        GeoOpt_ASEGeoOpt:
          data_id: 0
          dump_rate: 1000
          init_kwargs: {}
          optimizer: BFGS
          repeat:
          - 1
          - 1
          - 1
          run_kwargs:
            fmax: 0.1
      config/cp2k.yaml:
        force_eval:
          method: quickstep
          DFT:
            mgrid:
              cutoff: 800
              rel_cutoff: 60
              ngrids: 5
            QS:
              eps_filter_matrix: 0.0
              eps_pgf_orb: 0.0001
            SCF:
              scf_guess: restart
              max_scf: 100
              eps_scf: 1e-06
              OT:
                minimizer: diis
                preconditioner: full_single_inverse
              outer_scf:
                max_scf: 100
                eps_scf: 1e-06
              print:
                restart:
                  each:
                    QS_SCF: 0
            XC:
              xc_functional:
                becke97:
                  parametrization: B97-3c
                  scale_c: 1.0
                  scale_x: 1.0
              vdw_potential:
                pair_potential:
                  type: dftd3(bj)
                  parameter_file_name: dftd3.dat
                  reference_functional: B97-3c
                  r_cutoff: 7.93766
                  calculate_c9_term: true
                  short_range_correction: true
                potential_type: pair_potential
            charge: 0
            basis_set_file_name: GTH_BASIS_SETS
            potential_file_name: GTH_POTENTIALS
          subsys:
            kind:
              N:
                basis_set: TZVP-GTH-q5
                potential: GTH-PBE-q5
              C:
                basis_set: TZVP-GTH-q4
                potential: GTH-PBE-q4
              H:
                basis_set: TZVP-GTH-q1
                potential: GTH-PBE-q1
              B:
                basis_set: TZVP-GTH-q3
                potential: GTH-PBE-q3
              F:
                basis_set: TZVP-GTH-q7
                potential: GTH-PBE-q7
    outs:
    - path: nodes/GeoOpt/ASEGeoOpt/model_outs
      hash: md5
      md5: 877c356e0ce5e57bb4dbb5f23b699638.dir
      size: 59474596
      nfiles: 7
    - path: nodes/GeoOpt/ASEGeoOpt/node-meta.json
      hash: md5
      md5: be92de904a391879729d2142017b06c0
      size: 48
    - path: nodes/GeoOpt/ASEGeoOpt/trajectory.h5
      hash: md5
      md5: 020f6e24a11ed4bca846115312b5f248
      size: 3573832
  bootstrap_RotateMolecules:
    cmd: zntrack run ipsuite.nodes.RotateMolecules --name bootstrap_RotateMolecules
    deps:
    - path: nodes/GeoOpt/ASEGeoOpt/model_outs
      hash: md5
      md5: 877c356e0ce5e57bb4dbb5f23b699638.dir
      size: 59474596
      nfiles: 7
    - path: nodes/GeoOpt/ASEGeoOpt/node-meta.json
      hash: md5
      md5: be92de904a391879729d2142017b06c0
      size: 48
    - path: nodes/GeoOpt/ASEGeoOpt/trajectory.h5
      hash: md5
      md5: 020f6e24a11ed4bca846115312b5f248
      size: 3573832
    params:
      params.yaml:
        bootstrap_RotateMolecules:
          data_id: -1
          include_original: false
          maximum: 0.17452777777777778
          n_configurations: 15
          seed: 1
      config/cp2k.yaml:
        force_eval:
          method: quickstep
          DFT:
            mgrid:
              cutoff: 800
              rel_cutoff: 60
              ngrids: 5
            QS:
              eps_filter_matrix: 0.0
              eps_pgf_orb: 0.0001
            SCF:
              scf_guess: restart
              max_scf: 100
              eps_scf: 1e-06
              OT:
                minimizer: diis
                preconditioner: full_single_inverse
              outer_scf:
                max_scf: 100
                eps_scf: 1e-06
              print:
                restart:
                  each:
                    QS_SCF: 0
            XC:
              xc_functional:
                becke97:
                  parametrization: B97-3c
                  scale_c: 1.0
                  scale_x: 1.0
              vdw_potential:
                pair_potential:
                  type: dftd3(bj)
                  parameter_file_name: dftd3.dat
                  reference_functional: B97-3c
                  r_cutoff: 7.93766
                  calculate_c9_term: true
                  short_range_correction: true
                potential_type: pair_potential
            charge: 0
            basis_set_file_name: GTH_BASIS_SETS
            potential_file_name: GTH_POTENTIALS
          subsys:
            kind:
              N:
                basis_set: TZVP-GTH-q5
                potential: GTH-PBE-q5
              C:
                basis_set: TZVP-GTH-q4
                potential: GTH-PBE-q4
              H:
                basis_set: TZVP-GTH-q1
                potential: GTH-PBE-q1
              B:
                basis_set: TZVP-GTH-q3
                potential: GTH-PBE-q3
              F:
                basis_set: TZVP-GTH-q7
                potential: GTH-PBE-q7
    outs:
    - path: nodes/bootstrap/RotateMolecules/atoms.h5
      hash: md5
      md5: f9604072eb26e16d8a18e1f1f4c8a4ab
      size: 393280
    - path: nodes/bootstrap/RotateMolecules/model_outs
      hash: md5
      md5: 58099d79ef026b4e56fb64133052c9a5.dir
      size: 49651966
      nfiles: 7
    - path: nodes/bootstrap/RotateMolecules/node-meta.json
      hash: md5
      md5: 64251291557aa7522acfe32920681d5f
      size: 48
  bootstrap_TranslateMolecules:
    cmd: zntrack run ipsuite.nodes.TranslateMolecules --name bootstrap_TranslateMolecules
    deps:
    - path: nodes/GeoOpt/ASEGeoOpt/model_outs
      hash: md5
      md5: 877c356e0ce5e57bb4dbb5f23b699638.dir
      size: 59474596
      nfiles: 7
    - path: nodes/GeoOpt/ASEGeoOpt/node-meta.json
      hash: md5
      md5: be92de904a391879729d2142017b06c0
      size: 48
    - path: nodes/GeoOpt/ASEGeoOpt/trajectory.h5
      hash: md5
      md5: 020f6e24a11ed4bca846115312b5f248
      size: 3573832
    params:
      params.yaml:
        bootstrap_TranslateMolecules:
          data_id: -1
          include_original: false
          maximum: 0.3
          n_configurations: 15
          seed: 1
      config/cp2k.yaml:
        force_eval:
          method: quickstep
          DFT:
            mgrid:
              cutoff: 800
              rel_cutoff: 60
              ngrids: 5
            QS:
              eps_filter_matrix: 0.0
              eps_pgf_orb: 0.0001
            SCF:
              scf_guess: restart
              max_scf: 100
              eps_scf: 1e-06
              OT:
                minimizer: diis
                preconditioner: full_single_inverse
              outer_scf:
                max_scf: 100
                eps_scf: 1e-06
              print:
                restart:
                  each:
                    QS_SCF: 0
            XC:
              xc_functional:
                becke97:
                  parametrization: B97-3c
                  scale_c: 1.0
                  scale_x: 1.0
              vdw_potential:
                pair_potential:
                  type: dftd3(bj)
                  parameter_file_name: dftd3.dat
                  reference_functional: B97-3c
                  r_cutoff: 7.93766
                  calculate_c9_term: true
                  short_range_correction: true
                potential_type: pair_potential
            charge: 0
            basis_set_file_name: GTH_BASIS_SETS
            potential_file_name: GTH_POTENTIALS
          subsys:
            kind:
              N:
                basis_set: TZVP-GTH-q5
                potential: GTH-PBE-q5
              C:
                basis_set: TZVP-GTH-q4
                potential: GTH-PBE-q4
              H:
                basis_set: TZVP-GTH-q1
                potential: GTH-PBE-q1
              B:
                basis_set: TZVP-GTH-q3
                potential: GTH-PBE-q3
              F:
                basis_set: TZVP-GTH-q7
                potential: GTH-PBE-q7
    outs:
    - path: nodes/bootstrap/TranslateMolecules/atoms.h5
      hash: md5
      md5: 06b4d04494b2a28057dd938eac662e02
      size: 393280
    - path: nodes/bootstrap/TranslateMolecules/model_outs
      hash: md5
      md5: a121d69e62bfa54bbbf3d3186a6ad167.dir
      size: 49648652
      nfiles: 7
    - path: nodes/bootstrap/TranslateMolecules/node-meta.json
      hash: md5
      md5: 50a231419100550954e2ed0226a5c662
      size: 48
  bootstrap_BoxScale:
    cmd: zntrack run ipsuite.nodes.BoxScale --name bootstrap_BoxScale
    deps:
    - path: nodes/GeoOpt/ASEGeoOpt/model_outs
      hash: md5
      md5: 877c356e0ce5e57bb4dbb5f23b699638.dir
      size: 59474596
      nfiles: 7
    - path: nodes/GeoOpt/ASEGeoOpt/node-meta.json
      hash: md5
      md5: be92de904a391879729d2142017b06c0
      size: 48
    - path: nodes/GeoOpt/ASEGeoOpt/trajectory.h5
      hash: md5
      md5: 020f6e24a11ed4bca846115312b5f248
      size: 3573832
    params:
      params.yaml:
        bootstrap_BoxScale:
          data_id: -1
          num: 30
          start: 0.9
          stop: 2.0
        bootstrap_BoxScale+mapping:
          frozen: false
      config/cp2k.yaml:
        force_eval:
          method: quickstep
          DFT:
            mgrid:
              cutoff: 800
              rel_cutoff: 60
              ngrids: 5
            QS:
              eps_filter_matrix: 0.0
              eps_pgf_orb: 0.0001
            SCF:
              scf_guess: restart
              max_scf: 100
              eps_scf: 1e-06
              OT:
                minimizer: diis
                preconditioner: full_single_inverse
              outer_scf:
                max_scf: 100
                eps_scf: 1e-06
              print:
                restart:
                  each:
                    QS_SCF: 0
            XC:
              xc_functional:
                becke97:
                  parametrization: B97-3c
                  scale_c: 1.0
                  scale_x: 1.0
              vdw_potential:
                pair_potential:
                  type: dftd3(bj)
                  parameter_file_name: dftd3.dat
                  reference_functional: B97-3c
                  r_cutoff: 7.93766
                  calculate_c9_term: true
                  short_range_correction: true
                potential_type: pair_potential
            charge: 0
            basis_set_file_name: GTH_BASIS_SETS
            potential_file_name: GTH_POTENTIALS
          subsys:
            kind:
              N:
                basis_set: TZVP-GTH-q5
                potential: GTH-PBE-q5
              C:
                basis_set: TZVP-GTH-q4
                potential: GTH-PBE-q4
              H:
                basis_set: TZVP-GTH-q1
                potential: GTH-PBE-q1
              B:
                basis_set: TZVP-GTH-q3
                potential: GTH-PBE-q3
              F:
                basis_set: TZVP-GTH-q7
                potential: GTH-PBE-q7
    outs:
    - path: nodes/bootstrap/BoxScale/atoms.h5
      hash: md5
      md5: 505d12034023842d29b5dcd5946d2a8e
      size: 741040
    - path: nodes/bootstrap/BoxScale/energies.csv
      hash: md5
      md5: 237a3f67d79b8dffd635575247940bac
      size: 1127
    - path: nodes/bootstrap/BoxScale/energy.png
      hash: md5
      md5: a688574e7a591dc5f269e95cfe49f2e7
      size: 27043
    - path: nodes/bootstrap/BoxScale/model
      hash: md5
      md5: 75f7022676b061895bbbc5d484d534cf.dir
      size: 50957231
      nfiles: 7
    - path: nodes/bootstrap/BoxScale/node-meta.json
      hash: md5
      md5: 039858444b52fd4460970848e6c0ee45
      size: 48
