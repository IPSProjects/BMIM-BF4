plots:
- nodes/ML0/MLModel/log.csv:
    template: dvc_plots/templates/y_log.json
    x: epoch
    x_label: epochs
    y: val_loss
    y_label: validation loss
- nodes/ML0/MLModel_1/log.csv:
    template: dvc_plots/templates/y_log.json
    x: epoch
    x_label: epochs
    y: val_loss
    y_label: validation loss
- nodes/ML1/MLModel/log.csv:
    template: dvc_plots/templates/y_log.json
    x: epoch
    x_label: epochs
    y: val_loss
    y_label: validation loss
- nodes/ML1/MLModel_1/log.csv:
    template: dvc_plots/templates/y_log.json
    x: epoch
    x_label: epochs
    y: val_loss
    y_label: validation loss
- nodes/ML2/MLModel/log.csv:
    template: dvc_plots/templates/y_log.json
    x: epoch
    x_label: epochs
    y: val_loss
    y_label: validation loss
- nodes/ML2/MLModel_1/log.csv:
    template: dvc_plots/templates/y_log.json
    x: epoch
    x_label: epochs
    y: val_loss
    y_label: validation loss
- nodes/ML3/MLModel/log.csv:
    template: dvc_plots/templates/y_log.json
    x: epoch
    x_label: epochs
    y: val_loss
    y_label: validation loss
- nodes/ML3/MLModel_1/log.csv:
    template: dvc_plots/templates/y_log.json
    x: epoch
    x_label: epochs
    y: val_loss
    y_label: validation loss
stages:
  ML0_ASEMD:
    cmd: zntrack run ipsuite.nodes.ASEMD --name ML0_ASEMD
    deps:
    - nodes/ML0/ApaxEnsemble/node-meta.json
    - nodes/classical/AddData/atoms.h5
    - nodes/classical/AddData/node-meta.json
    metrics:
    - nodes/ML0/ASEMD/node-meta.json:
        cache: false
    - nodes/ML0/ASEMD/steps_before_stopping.json:
        cache: false
    outs:
    - nodes/ML0/ASEMD/metrics_dict.csv
    - nodes/ML0/ASEMD/model
    - nodes/ML0/ASEMD/trajectory.h5
    params:
    - ML0_ASEMD
    - ML0_ASEMD+checker_list+0
    - ML0_ASEMD+thermostat
  ML0_ApaxEnsemble:
    cmd: zntrack run ipsuite.nodes.ApaxEnsemble --name ML0_ApaxEnsemble
    deps:
    - nodes/ML0/MLModel/apax_model
    - nodes/ML0/MLModel/log.csv
    - nodes/ML0/MLModel/metrics.json
    - nodes/ML0/MLModel/node-meta.json
    - nodes/ML0/MLModel/train.log
    - nodes/ML0/MLModel/train_atoms.extxyz
    - nodes/ML0/MLModel/val_atoms.extxyz
    - nodes/ML0/MLModel_1/apax_model
    - nodes/ML0/MLModel_1/log.csv
    - nodes/ML0/MLModel_1/metrics.json
    - nodes/ML0/MLModel_1/node-meta.json
    - nodes/ML0/MLModel_1/train.log
    - nodes/ML0/MLModel_1/train_atoms.extxyz
    - nodes/ML0/MLModel_1/val_atoms.extxyz
    metrics:
    - nodes/ML0/ApaxEnsemble/node-meta.json:
        cache: false
  ML0_CP2KSinglePoint:
    cmd: zntrack run ipsuite.nodes.CP2KSinglePoint --name ML0_CP2KSinglePoint
    deps:
    - GTH_BASIS_SETS
    - GTH_POTENTIALS
    - dftd3.dat
    - nodes/ML0/ConfigurationSelection/node-meta.json
    - nodes/ML0/ConfigurationSelection/selected_configurations.json
    - nodes/ML0/ConfigurationSelection/selection.png
    metrics:
    - nodes/ML0/CP2KSinglePoint/node-meta.json:
        cache: false
    outs:
    - nodes/ML0/CP2KSinglePoint/atoms.h5
    - nodes/ML0/CP2KSinglePoint/cp2k
    params:
    - config/cp2k.yaml:
  ML0_ConfigurationSelection:
    cmd: zntrack run ipsuite.nodes.ThresholdSelection --name ML0_ConfigurationSelection
    deps:
    - nodes/ML0/ASEMD/metrics_dict.csv
    - nodes/ML0/ASEMD/model
    - nodes/ML0/ASEMD/node-meta.json
    - nodes/ML0/ASEMD/steps_before_stopping.json
    - nodes/ML0/ASEMD/trajectory.h5
    metrics:
    - nodes/ML0/ConfigurationSelection/node-meta.json:
        cache: false
    outs:
    - nodes/ML0/ConfigurationSelection/selected_configurations.json
    - nodes/ML0/ConfigurationSelection/selection.png
    params:
    - ML0_ConfigurationSelection
  ML0_MLModel:
    cmd: zntrack run ipsuite.nodes.Apax --name ML0_MLModel
    deps:
    - nodes/classical/ConfigurationSelection/node-meta.json
    - nodes/classical/ConfigurationSelection/selected_configurations.json
    - nodes/classical/ConfigurationSelection/selection.png
    metrics:
    - nodes/ML0/MLModel/metrics.json:
        cache: false
    - nodes/ML0/MLModel/node-meta.json:
        cache: false
    outs:
    - nodes/ML0/MLModel/apax_model
    - nodes/ML0/MLModel/log.csv
    - nodes/ML0/MLModel/train.log
    - nodes/ML0/MLModel/train_atoms.extxyz
    - nodes/ML0/MLModel/val_atoms.extxyz
    params:
    - ML0_MLModel
    - config/initial_model_1.yaml:
  ML0_MLModel_1:
    cmd: zntrack run ipsuite.nodes.Apax --name ML0_MLModel_1
    deps:
    - nodes/classical/ConfigurationSelection/node-meta.json
    - nodes/classical/ConfigurationSelection/selected_configurations.json
    - nodes/classical/ConfigurationSelection/selection.png
    metrics:
    - nodes/ML0/MLModel_1/metrics.json:
        cache: false
    - nodes/ML0/MLModel_1/node-meta.json:
        cache: false
    outs:
    - nodes/ML0/MLModel_1/apax_model
    - nodes/ML0/MLModel_1/log.csv
    - nodes/ML0/MLModel_1/train.log
    - nodes/ML0/MLModel_1/train_atoms.extxyz
    - nodes/ML0/MLModel_1/val_atoms.extxyz
    params:
    - ML0_MLModel_1
    - config/initial_model_2.yaml:
  ML0_Prediction:
    cmd: zntrack run ipsuite.nodes.Prediction --name ML0_Prediction
    deps:
    - nodes/ML0/ApaxEnsemble/node-meta.json
    - nodes/classical/ConfigurationSelection/node-meta.json
    - nodes/classical/ConfigurationSelection/selected_configurations.json
    - nodes/classical/ConfigurationSelection/selection.png
    metrics:
    - nodes/ML0/Prediction/node-meta.json:
        cache: false
    outs:
    - nodes/ML0/Prediction/atoms.h5
  ML0_PredictionMetrics:
    cmd: zntrack run ipsuite.nodes.PredictionMetrics --name ML0_PredictionMetrics
    deps:
    - nodes/ML0/Prediction/atoms.h5
    - nodes/ML0/Prediction/node-meta.json
    metrics:
    - nodes/ML0/PredictionMetrics/deviat_stress.json:
        cache: false
    - nodes/ML0/PredictionMetrics/energy.json:
        cache: false
    - nodes/ML0/PredictionMetrics/forces.json:
        cache: false
    - nodes/ML0/PredictionMetrics/hydro_stress.json:
        cache: false
    - nodes/ML0/PredictionMetrics/node-meta.json:
        cache: false
    - nodes/ML0/PredictionMetrics/stress.json:
        cache: false
    outs:
    - nodes/ML0/PredictionMetrics/energy_df.csv
    - nodes/ML0/PredictionMetrics/forces_df.csv
    - nodes/ML0/PredictionMetrics/plots
    - nodes/ML0/PredictionMetrics/stress_deviatoric_df.csv
    - nodes/ML0/PredictionMetrics/stress_df.csv
    - nodes/ML0/PredictionMetrics/stress_hydrostatic_df.csv
  ML1_ASEMD:
    cmd: zntrack run ipsuite.nodes.ASEMD --name ML1_ASEMD
    deps:
    - nodes/ML1/ApaxEnsemble/node-meta.json
    - nodes/classical/AddData/atoms.h5
    - nodes/classical/AddData/node-meta.json
    metrics:
    - nodes/ML1/ASEMD/node-meta.json:
        cache: false
    - nodes/ML1/ASEMD/steps_before_stopping.json:
        cache: false
    outs:
    - nodes/ML1/ASEMD/metrics_dict.csv
    - nodes/ML1/ASEMD/model
    - nodes/ML1/ASEMD/trajectory.h5
    params:
    - ML1_ASEMD
    - ML1_ASEMD+checker_list+0
    - ML1_ASEMD+thermostat
  ML1_ApaxEnsemble:
    cmd: zntrack run ipsuite.nodes.ApaxEnsemble --name ML1_ApaxEnsemble
    deps:
    - nodes/ML1/MLModel/apax_model
    - nodes/ML1/MLModel/log.csv
    - nodes/ML1/MLModel/metrics.json
    - nodes/ML1/MLModel/node-meta.json
    - nodes/ML1/MLModel/train.log
    - nodes/ML1/MLModel/train_atoms.extxyz
    - nodes/ML1/MLModel/val_atoms.extxyz
    - nodes/ML1/MLModel_1/apax_model
    - nodes/ML1/MLModel_1/log.csv
    - nodes/ML1/MLModel_1/metrics.json
    - nodes/ML1/MLModel_1/node-meta.json
    - nodes/ML1/MLModel_1/train.log
    - nodes/ML1/MLModel_1/train_atoms.extxyz
    - nodes/ML1/MLModel_1/val_atoms.extxyz
    metrics:
    - nodes/ML1/ApaxEnsemble/node-meta.json:
        cache: false
  ML1_CP2KSinglePoint:
    cmd: zntrack run ipsuite.nodes.CP2KSinglePoint --name ML1_CP2KSinglePoint
    deps:
    - GTH_BASIS_SETS
    - GTH_POTENTIALS
    - dftd3.dat
    - nodes/ML1/ConfigurationSelection/node-meta.json
    - nodes/ML1/ConfigurationSelection/selected_configurations.json
    - nodes/ML1/ConfigurationSelection/selection.png
    metrics:
    - nodes/ML1/CP2KSinglePoint/node-meta.json:
        cache: false
    outs:
    - nodes/ML1/CP2KSinglePoint/atoms.h5
    - nodes/ML1/CP2KSinglePoint/cp2k
    params:
    - config/cp2k.yaml:
  ML1_ConfigurationSelection:
    cmd: zntrack run ipsuite.nodes.ThresholdSelection --name ML1_ConfigurationSelection
    deps:
    - nodes/ML1/ASEMD/metrics_dict.csv
    - nodes/ML1/ASEMD/model
    - nodes/ML1/ASEMD/node-meta.json
    - nodes/ML1/ASEMD/steps_before_stopping.json
    - nodes/ML1/ASEMD/trajectory.h5
    metrics:
    - nodes/ML1/ConfigurationSelection/node-meta.json:
        cache: false
    outs:
    - nodes/ML1/ConfigurationSelection/selected_configurations.json
    - nodes/ML1/ConfigurationSelection/selection.png
    params:
    - ML1_ConfigurationSelection
  ML1_MLModel:
    cmd: zntrack run ipsuite.nodes.Apax --name ML1_MLModel
    deps:
    - nodes/ML0/CP2KSinglePoint/atoms.h5
    - nodes/ML0/CP2KSinglePoint/cp2k
    - nodes/ML0/CP2KSinglePoint/node-meta.json
    - nodes/classical/ConfigurationSelection/node-meta.json
    - nodes/classical/ConfigurationSelection/selected_configurations.json
    - nodes/classical/ConfigurationSelection/selection.png
    metrics:
    - nodes/ML1/MLModel/metrics.json:
        cache: false
    - nodes/ML1/MLModel/node-meta.json:
        cache: false
    outs:
    - nodes/ML1/MLModel/apax_model
    - nodes/ML1/MLModel/log.csv
    - nodes/ML1/MLModel/train.log
    - nodes/ML1/MLModel/train_atoms.extxyz
    - nodes/ML1/MLModel/val_atoms.extxyz
    params:
    - ML1_MLModel
    - config/initial_model_1.yaml:
  ML1_MLModel_1:
    cmd: zntrack run ipsuite.nodes.Apax --name ML1_MLModel_1
    deps:
    - nodes/ML0/CP2KSinglePoint/atoms.h5
    - nodes/ML0/CP2KSinglePoint/cp2k
    - nodes/ML0/CP2KSinglePoint/node-meta.json
    - nodes/classical/ConfigurationSelection/node-meta.json
    - nodes/classical/ConfigurationSelection/selected_configurations.json
    - nodes/classical/ConfigurationSelection/selection.png
    metrics:
    - nodes/ML1/MLModel_1/metrics.json:
        cache: false
    - nodes/ML1/MLModel_1/node-meta.json:
        cache: false
    outs:
    - nodes/ML1/MLModel_1/apax_model
    - nodes/ML1/MLModel_1/log.csv
    - nodes/ML1/MLModel_1/train.log
    - nodes/ML1/MLModel_1/train_atoms.extxyz
    - nodes/ML1/MLModel_1/val_atoms.extxyz
    params:
    - ML1_MLModel_1
    - config/initial_model_2.yaml:
  ML1_Prediction:
    cmd: zntrack run ipsuite.nodes.Prediction --name ML1_Prediction
    deps:
    - nodes/ML1/ApaxEnsemble/node-meta.json
    - nodes/classical/ConfigurationSelection/node-meta.json
    - nodes/classical/ConfigurationSelection/selected_configurations.json
    - nodes/classical/ConfigurationSelection/selection.png
    metrics:
    - nodes/ML1/Prediction/node-meta.json:
        cache: false
    outs:
    - nodes/ML1/Prediction/atoms.h5
  ML1_PredictionMetrics:
    cmd: zntrack run ipsuite.nodes.PredictionMetrics --name ML1_PredictionMetrics
    deps:
    - nodes/ML1/Prediction/atoms.h5
    - nodes/ML1/Prediction/node-meta.json
    metrics:
    - nodes/ML1/PredictionMetrics/deviat_stress.json:
        cache: false
    - nodes/ML1/PredictionMetrics/energy.json:
        cache: false
    - nodes/ML1/PredictionMetrics/forces.json:
        cache: false
    - nodes/ML1/PredictionMetrics/hydro_stress.json:
        cache: false
    - nodes/ML1/PredictionMetrics/node-meta.json:
        cache: false
    - nodes/ML1/PredictionMetrics/stress.json:
        cache: false
    outs:
    - nodes/ML1/PredictionMetrics/energy_df.csv
    - nodes/ML1/PredictionMetrics/forces_df.csv
    - nodes/ML1/PredictionMetrics/plots
    - nodes/ML1/PredictionMetrics/stress_deviatoric_df.csv
    - nodes/ML1/PredictionMetrics/stress_df.csv
    - nodes/ML1/PredictionMetrics/stress_hydrostatic_df.csv
  ML2_ASEMD:
    cmd: zntrack run ipsuite.nodes.ASEMD --name ML2_ASEMD
    deps:
    - nodes/ML1/ASEMD/metrics_dict.csv
    - nodes/ML1/ASEMD/model
    - nodes/ML1/ASEMD/node-meta.json
    - nodes/ML1/ASEMD/steps_before_stopping.json
    - nodes/ML1/ASEMD/trajectory.h5
    - nodes/ML2/ApaxEnsemble/node-meta.json
    metrics:
    - nodes/ML2/ASEMD/node-meta.json:
        cache: false
    - nodes/ML2/ASEMD/steps_before_stopping.json:
        cache: false
    outs:
    - nodes/ML2/ASEMD/metrics_dict.csv
    - nodes/ML2/ASEMD/model
    - nodes/ML2/ASEMD/trajectory.h5
    params:
    - ML2_ASEMD
    - ML2_ASEMD+checker_list+0
    - ML2_ASEMD+thermostat
  ML2_ApaxEnsemble:
    cmd: zntrack run ipsuite.nodes.ApaxEnsemble --name ML2_ApaxEnsemble
    deps:
    - nodes/ML2/MLModel/apax_model
    - nodes/ML2/MLModel/log.csv
    - nodes/ML2/MLModel/metrics.json
    - nodes/ML2/MLModel/node-meta.json
    - nodes/ML2/MLModel/train.log
    - nodes/ML2/MLModel/train_atoms.extxyz
    - nodes/ML2/MLModel/val_atoms.extxyz
    - nodes/ML2/MLModel_1/apax_model
    - nodes/ML2/MLModel_1/log.csv
    - nodes/ML2/MLModel_1/metrics.json
    - nodes/ML2/MLModel_1/node-meta.json
    - nodes/ML2/MLModel_1/train.log
    - nodes/ML2/MLModel_1/train_atoms.extxyz
    - nodes/ML2/MLModel_1/val_atoms.extxyz
    metrics:
    - nodes/ML2/ApaxEnsemble/node-meta.json:
        cache: false
  ML2_CP2KSinglePoint:
    cmd: zntrack run ipsuite.nodes.CP2KSinglePoint --name ML2_CP2KSinglePoint
    deps:
    - GTH_BASIS_SETS
    - GTH_POTENTIALS
    - dftd3.dat
    - nodes/ML2/ConfigurationSelection/node-meta.json
    - nodes/ML2/ConfigurationSelection/selected_configurations.json
    - nodes/ML2/ConfigurationSelection/selection.png
    metrics:
    - nodes/ML2/CP2KSinglePoint/node-meta.json:
        cache: false
    outs:
    - nodes/ML2/CP2KSinglePoint/atoms.h5
    - nodes/ML2/CP2KSinglePoint/cp2k
    params:
    - config/cp2k.yaml:
  ML2_ConfigurationSelection:
    cmd: zntrack run ipsuite.nodes.ThresholdSelection --name ML2_ConfigurationSelection
    deps:
    - nodes/ML2/ASEMD/metrics_dict.csv
    - nodes/ML2/ASEMD/model
    - nodes/ML2/ASEMD/node-meta.json
    - nodes/ML2/ASEMD/steps_before_stopping.json
    - nodes/ML2/ASEMD/trajectory.h5
    metrics:
    - nodes/ML2/ConfigurationSelection/node-meta.json:
        cache: false
    outs:
    - nodes/ML2/ConfigurationSelection/selected_configurations.json
    - nodes/ML2/ConfigurationSelection/selection.png
    params:
    - ML2_ConfigurationSelection
  ML2_MLModel:
    cmd: zntrack run ipsuite.nodes.Apax --name ML2_MLModel
    deps:
    - nodes/ML0/CP2KSinglePoint/atoms.h5
    - nodes/ML0/CP2KSinglePoint/cp2k
    - nodes/ML0/CP2KSinglePoint/node-meta.json
    - nodes/ML1/CP2KSinglePoint/atoms.h5
    - nodes/ML1/CP2KSinglePoint/cp2k
    - nodes/ML1/CP2KSinglePoint/node-meta.json
    - nodes/classical/ConfigurationSelection/node-meta.json
    - nodes/classical/ConfigurationSelection/selected_configurations.json
    - nodes/classical/ConfigurationSelection/selection.png
    metrics:
    - nodes/ML2/MLModel/metrics.json:
        cache: false
    - nodes/ML2/MLModel/node-meta.json:
        cache: false
    outs:
    - nodes/ML2/MLModel/apax_model
    - nodes/ML2/MLModel/log.csv
    - nodes/ML2/MLModel/train.log
    - nodes/ML2/MLModel/train_atoms.extxyz
    - nodes/ML2/MLModel/val_atoms.extxyz
    params:
    - ML2_MLModel
    - config/initial_model_1.yaml:
  ML2_MLModel_1:
    cmd: zntrack run ipsuite.nodes.Apax --name ML2_MLModel_1
    deps:
    - nodes/ML0/CP2KSinglePoint/atoms.h5
    - nodes/ML0/CP2KSinglePoint/cp2k
    - nodes/ML0/CP2KSinglePoint/node-meta.json
    - nodes/ML1/CP2KSinglePoint/atoms.h5
    - nodes/ML1/CP2KSinglePoint/cp2k
    - nodes/ML1/CP2KSinglePoint/node-meta.json
    - nodes/classical/ConfigurationSelection/node-meta.json
    - nodes/classical/ConfigurationSelection/selected_configurations.json
    - nodes/classical/ConfigurationSelection/selection.png
    metrics:
    - nodes/ML2/MLModel_1/metrics.json:
        cache: false
    - nodes/ML2/MLModel_1/node-meta.json:
        cache: false
    outs:
    - nodes/ML2/MLModel_1/apax_model
    - nodes/ML2/MLModel_1/log.csv
    - nodes/ML2/MLModel_1/train.log
    - nodes/ML2/MLModel_1/train_atoms.extxyz
    - nodes/ML2/MLModel_1/val_atoms.extxyz
    params:
    - ML2_MLModel_1
    - config/initial_model_2.yaml:
  ML2_Prediction:
    cmd: zntrack run ipsuite.nodes.Prediction --name ML2_Prediction
    deps:
    - nodes/ML2/ApaxEnsemble/node-meta.json
    - nodes/classical/ConfigurationSelection/node-meta.json
    - nodes/classical/ConfigurationSelection/selected_configurations.json
    - nodes/classical/ConfigurationSelection/selection.png
    metrics:
    - nodes/ML2/Prediction/node-meta.json:
        cache: false
    outs:
    - nodes/ML2/Prediction/atoms.h5
  ML2_PredictionMetrics:
    cmd: zntrack run ipsuite.nodes.PredictionMetrics --name ML2_PredictionMetrics
    deps:
    - nodes/ML2/Prediction/atoms.h5
    - nodes/ML2/Prediction/node-meta.json
    metrics:
    - nodes/ML2/PredictionMetrics/deviat_stress.json:
        cache: false
    - nodes/ML2/PredictionMetrics/energy.json:
        cache: false
    - nodes/ML2/PredictionMetrics/forces.json:
        cache: false
    - nodes/ML2/PredictionMetrics/hydro_stress.json:
        cache: false
    - nodes/ML2/PredictionMetrics/node-meta.json:
        cache: false
    - nodes/ML2/PredictionMetrics/stress.json:
        cache: false
    outs:
    - nodes/ML2/PredictionMetrics/energy_df.csv
    - nodes/ML2/PredictionMetrics/forces_df.csv
    - nodes/ML2/PredictionMetrics/plots
    - nodes/ML2/PredictionMetrics/stress_deviatoric_df.csv
    - nodes/ML2/PredictionMetrics/stress_df.csv
    - nodes/ML2/PredictionMetrics/stress_hydrostatic_df.csv
  ML3_MLModel:
    cmd: zntrack run ipsuite.nodes.Apax --name ML3_MLModel
    deps:
    - nodes/ML0/CP2KSinglePoint/atoms.h5
    - nodes/ML0/CP2KSinglePoint/cp2k
    - nodes/ML0/CP2KSinglePoint/node-meta.json
    - nodes/ML1/CP2KSinglePoint/atoms.h5
    - nodes/ML1/CP2KSinglePoint/cp2k
    - nodes/ML1/CP2KSinglePoint/node-meta.json
    - nodes/ML2/CP2KSinglePoint/atoms.h5
    - nodes/ML2/CP2KSinglePoint/cp2k
    - nodes/ML2/CP2KSinglePoint/node-meta.json
    - nodes/classical/ConfigurationSelection/node-meta.json
    - nodes/classical/ConfigurationSelection/selected_configurations.json
    - nodes/classical/ConfigurationSelection/selection.png
    metrics:
    - nodes/ML3/MLModel/metrics.json:
        cache: false
    - nodes/ML3/MLModel/node-meta.json:
        cache: false
    outs:
    - nodes/ML3/MLModel/apax_model
    - nodes/ML3/MLModel/log.csv
    - nodes/ML3/MLModel/train.log
    - nodes/ML3/MLModel/train_atoms.extxyz
    - nodes/ML3/MLModel/val_atoms.extxyz
    params:
    - ML3_MLModel
    - config/initial_model_1.yaml:
  ML3_MLModel_1:
    cmd: zntrack run ipsuite.nodes.Apax --name ML3_MLModel_1
    deps:
    - nodes/ML0/CP2KSinglePoint/atoms.h5
    - nodes/ML0/CP2KSinglePoint/cp2k
    - nodes/ML0/CP2KSinglePoint/node-meta.json
    - nodes/ML1/CP2KSinglePoint/atoms.h5
    - nodes/ML1/CP2KSinglePoint/cp2k
    - nodes/ML1/CP2KSinglePoint/node-meta.json
    - nodes/ML2/CP2KSinglePoint/atoms.h5
    - nodes/ML2/CP2KSinglePoint/cp2k
    - nodes/ML2/CP2KSinglePoint/node-meta.json
    - nodes/classical/ConfigurationSelection/node-meta.json
    - nodes/classical/ConfigurationSelection/selected_configurations.json
    - nodes/classical/ConfigurationSelection/selection.png
    metrics:
    - nodes/ML3/MLModel_1/metrics.json:
        cache: false
    - nodes/ML3/MLModel_1/node-meta.json:
        cache: false
    outs:
    - nodes/ML3/MLModel_1/apax_model
    - nodes/ML3/MLModel_1/log.csv
    - nodes/ML3/MLModel_1/train.log
    - nodes/ML3/MLModel_1/train_atoms.extxyz
    - nodes/ML3/MLModel_1/val_atoms.extxyz
    params:
    - ML3_MLModel_1
    - config/initial_model_2.yaml:
  classical_AddData:
    cmd: zntrack run ipsuite.nodes.AddData --name classical_AddData
    deps:
    - data/nvt_eq.xyz
    metrics:
    - nodes/classical/AddData/node-meta.json:
        cache: false
    outs:
    - nodes/classical/AddData/atoms.h5
    params:
    - classical_AddData
  classical_CP2KSinglePoint:
    cmd: zntrack run ipsuite.nodes.CP2KSinglePoint --name classical_CP2KSinglePoint
    deps:
    - GTH_BASIS_SETS
    - GTH_POTENTIALS
    - dftd3.dat
    - nodes/classical/AddData/atoms.h5
    - nodes/classical/AddData/node-meta.json
    metrics:
    - nodes/classical/CP2KSinglePoint/node-meta.json:
        cache: false
    outs:
    - nodes/classical/CP2KSinglePoint/atoms.h5
    - nodes/classical/CP2KSinglePoint/cp2k
    params:
    - config/cp2k.yaml:
  classical_ConfigurationSelection:
    cmd: zntrack run ipsuite.nodes.RandomSelection --name classical_ConfigurationSelection
    deps:
    - nodes/classical/CP2KSinglePoint/atoms.h5
    - nodes/classical/CP2KSinglePoint/cp2k
    - nodes/classical/CP2KSinglePoint/node-meta.json
    metrics:
    - nodes/classical/ConfigurationSelection/node-meta.json:
        cache: false
    outs:
    - nodes/classical/ConfigurationSelection/selected_configurations.json
    - nodes/classical/ConfigurationSelection/selection.png
    params:
    - classical_ConfigurationSelection
  ML3_ApaxEnsemble:
    cmd: zntrack run ipsuite.nodes.ApaxEnsemble --name ML3_ApaxEnsemble
    deps:
    - nodes/ML3/MLModel/apax_model
    - nodes/ML3/MLModel/log.csv
    - nodes/ML3/MLModel/metrics.json
    - nodes/ML3/MLModel/node-meta.json
    - nodes/ML3/MLModel/train.log
    - nodes/ML3/MLModel/train_atoms.extxyz
    - nodes/ML3/MLModel/val_atoms.extxyz
    - nodes/ML3/MLModel_1/apax_model
    - nodes/ML3/MLModel_1/log.csv
    - nodes/ML3/MLModel_1/metrics.json
    - nodes/ML3/MLModel_1/node-meta.json
    - nodes/ML3/MLModel_1/train.log
    - nodes/ML3/MLModel_1/train_atoms.extxyz
    - nodes/ML3/MLModel_1/val_atoms.extxyz
    metrics:
    - nodes/ML3/ApaxEnsemble/node-meta.json:
        cache: false
  ML3_Prediction:
    cmd: zntrack run ipsuite.nodes.Prediction --name ML3_Prediction
    deps:
    - nodes/ML3/ApaxEnsemble/node-meta.json
    - nodes/classical/ConfigurationSelection/node-meta.json
    - nodes/classical/ConfigurationSelection/selected_configurations.json
    - nodes/classical/ConfigurationSelection/selection.png
    outs:
    - nodes/ML3/Prediction/atoms.h5
    metrics:
    - nodes/ML3/Prediction/node-meta.json:
        cache: false
  ML3_PredictionMetrics:
    cmd: zntrack run ipsuite.nodes.PredictionMetrics --name ML3_PredictionMetrics
    deps:
    - nodes/ML3/Prediction/atoms.h5
    - nodes/ML3/Prediction/node-meta.json
    outs:
    - nodes/ML3/PredictionMetrics/energy_df.csv
    - nodes/ML3/PredictionMetrics/forces_df.csv
    - nodes/ML3/PredictionMetrics/plots
    - nodes/ML3/PredictionMetrics/stress_deviatoric_df.csv
    - nodes/ML3/PredictionMetrics/stress_df.csv
    - nodes/ML3/PredictionMetrics/stress_hydrostatic_df.csv
    metrics:
    - nodes/ML3/PredictionMetrics/deviat_stress.json:
        cache: false
    - nodes/ML3/PredictionMetrics/energy.json:
        cache: false
    - nodes/ML3/PredictionMetrics/forces.json:
        cache: false
    - nodes/ML3/PredictionMetrics/hydro_stress.json:
        cache: false
    - nodes/ML3/PredictionMetrics/node-meta.json:
        cache: false
    - nodes/ML3/PredictionMetrics/stress.json:
        cache: false
  ML3_ASEMD:
    cmd: zntrack run ipsuite.nodes.ASEMD --name ML3_ASEMD
    deps:
    - nodes/ML2/ASEMD/metrics_dict.csv
    - nodes/ML2/ASEMD/model
    - nodes/ML2/ASEMD/node-meta.json
    - nodes/ML2/ASEMD/steps_before_stopping.json
    - nodes/ML2/ASEMD/trajectory.h5
    - nodes/ML3/ApaxEnsemble/node-meta.json
    params:
    - ML3_ASEMD
    - ML3_ASEMD+checker_list+0
    - ML3_ASEMD+thermostat
    outs:
    - nodes/ML3/ASEMD/metrics_dict.csv
    - nodes/ML3/ASEMD/model
    - nodes/ML3/ASEMD/trajectory.h5
    metrics:
    - nodes/ML3/ASEMD/node-meta.json:
        cache: false
    - nodes/ML3/ASEMD/steps_before_stopping.json:
        cache: false
  ML3_ConfigurationSelection:
    cmd: zntrack run ipsuite.nodes.ThresholdSelection --name ML3_ConfigurationSelection
    deps:
    - nodes/ML3/ASEMD/metrics_dict.csv
    - nodes/ML3/ASEMD/model
    - nodes/ML3/ASEMD/node-meta.json
    - nodes/ML3/ASEMD/steps_before_stopping.json
    - nodes/ML3/ASEMD/trajectory.h5
    params:
    - ML3_ConfigurationSelection
    outs:
    - nodes/ML3/ConfigurationSelection/selected_configurations.json
    - nodes/ML3/ConfigurationSelection/selection.png
    metrics:
    - nodes/ML3/ConfigurationSelection/node-meta.json:
        cache: false
  ML3_CP2KSinglePoint:
    cmd: zntrack run ipsuite.nodes.CP2KSinglePoint --name ML3_CP2KSinglePoint
    deps:
    - GTH_BASIS_SETS
    - GTH_POTENTIALS
    - dftd3.dat
    - nodes/ML3/ConfigurationSelection/node-meta.json
    - nodes/ML3/ConfigurationSelection/selected_configurations.json
    - nodes/ML3/ConfigurationSelection/selection.png
    params:
    - config/cp2k.yaml:
    outs:
    - nodes/ML3/CP2KSinglePoint/atoms.h5
    - nodes/ML3/CP2KSinglePoint/cp2k
    metrics:
    - nodes/ML3/CP2KSinglePoint/node-meta.json:
        cache: false
  GeoOpt_SmilesToAtoms:
    cmd: zntrack run ipsuite.nodes.SmilesToAtoms --name GeoOpt_SmilesToAtoms
    params:
    - GeoOpt_SmilesToAtoms
    outs:
    - nodes/GeoOpt/SmilesToAtoms/atoms.h5
    - nodes/GeoOpt/SmilesToAtoms/molecule.png
    metrics:
    - nodes/GeoOpt/SmilesToAtoms/node-meta.json:
        cache: false
  GeoOpt_SmilesToAtoms_1:
    cmd: zntrack run ipsuite.nodes.SmilesToAtoms --name GeoOpt_SmilesToAtoms_1
    params:
    - GeoOpt_SmilesToAtoms_1
    outs:
    - nodes/GeoOpt/SmilesToAtoms_1/atoms.h5
    - nodes/GeoOpt/SmilesToAtoms_1/molecule.png
    metrics:
    - nodes/GeoOpt/SmilesToAtoms_1/node-meta.json:
        cache: false
  GeoOpt_Packmol:
    cmd: zntrack run ipsuite.nodes.Packmol --name GeoOpt_Packmol
    deps:
    - nodes/GeoOpt/SmilesToAtoms/atoms.h5
    - nodes/GeoOpt/SmilesToAtoms/molecule.png
    - nodes/GeoOpt/SmilesToAtoms/node-meta.json
    - nodes/GeoOpt/SmilesToAtoms_1/atoms.h5
    - nodes/GeoOpt/SmilesToAtoms_1/molecule.png
    - nodes/GeoOpt/SmilesToAtoms_1/node-meta.json
    params:
    - GeoOpt_Packmol
    outs:
    - nodes/GeoOpt/Packmol/atoms.h5
    - nodes/GeoOpt/Packmol/packmol
    metrics:
    - nodes/GeoOpt/Packmol/node-meta.json:
        cache: false
  GeoOpt_Packmol_1:
    cmd: zntrack run ipsuite.nodes.Packmol --name GeoOpt_Packmol_1
    deps:
    - nodes/GeoOpt/Packmol/atoms.h5
    - nodes/GeoOpt/Packmol/node-meta.json
    - nodes/GeoOpt/Packmol/packmol
    params:
    - GeoOpt_Packmol_1
    outs:
    - nodes/GeoOpt/Packmol_1/atoms.h5
    - nodes/GeoOpt/Packmol_1/packmol
    metrics:
    - nodes/GeoOpt/Packmol_1/node-meta.json:
        cache: false
  GeoOpt_ASEGeoOpt:
    cmd: zntrack run ipsuite.nodes.ASEGeoOpt --name GeoOpt_ASEGeoOpt
    deps:
    - nodes/GeoOpt/Packmol_1/atoms.h5
    - nodes/GeoOpt/Packmol_1/node-meta.json
    - nodes/GeoOpt/Packmol_1/packmol
    - nodes/ML3/ApaxEnsemble/node-meta.json
    params:
    - GeoOpt_ASEGeoOpt
    outs:
    - nodes/GeoOpt/ASEGeoOpt/model_outs
    - nodes/GeoOpt/ASEGeoOpt/trajectory.h5
    metrics:
    - nodes/GeoOpt/ASEGeoOpt/node-meta.json:
        cache: false
